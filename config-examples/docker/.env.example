# Zero Trust VPN Infrastructure Environment Configuration
# Copy this file to .env and customize the values

# === GENERAL SETTINGS ===
TZ=Europe/Berlin

# === DOMAIN CONFIGURATION ===
DOMAIN=vpn.example.com
AUTH_DOMAIN=auth.vpn.example.com

# === VPN CONFIGURATION ===
VPN_SUBNET=10.10.0.0/24
VPN_SERVER_IP=10.10.0.1
VPN_PORT=51820
DNS_SERVERS=1.1.1.1,8.8.8.8

# === USER CONFIGURATION ===
VPN_USER=vpn
VPN_GROUP=vpn
VPN_UID=2000
VPN_GID=2000

# === PATHS ===
CONFIG_PATH=/opt/zero-trust-vpn
CERTS_PATH=/opt/zero-trust-vpn/certificates
LOGS_PATH=/var/log/zero-trust-vpn

# === AUTHELIA SECRETS ===
# Generate with: openssl rand -hex 32
JWT_SECRET=your_jwt_secret_here_32_chars_long
SESSION_SECRET=your_session_secret_here_32_chars
STORAGE_ENCRYPTION_KEY=your_storage_key_here_32_chars

# === DATABASE CONFIGURATION ===
DB_HOST=postgres
DB_PORT=5432
DB_NAME=authelia
DB_USER=authelia
DB_PASSWORD=your_secure_db_password_here

# === REDIS CONFIGURATION ===
REDIS_PASSWORD=your_secure_redis_password

# === SMTP CONFIGURATION ===
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_SENDER=authelia@vpn.example.com

# === NOTIFICATION CONFIGURATION ===
ADMIN_EMAIL=admin@example.com
SECURITY_EMAIL=security@example.com

# === MONITORING CONFIGURATION ===
ENABLE_MONITORING=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=your_secure_grafana_password

# === WIREGUARD KEYS ===
# These will be generated by the setup script
SERVER_PRIVATE_KEY=your_server_private_key_here
SERVER_PUBLIC_KEY=your_server_public_key_here

# === WG-EASY CONFIGURATION ===
WG_EASY_PASSWORD=your_wg_easy_password

# === SECURITY SETTINGS ===
# Certificate validity periods
CA_VALIDITY_DAYS=3650
CERT_VALIDITY_DAYS=365
KEY_SIZE=2048

# Certificate Authority details
CA_COUNTRY=US
CA_STATE=State
CA_CITY=City
CA_ORG=Zero Trust VPN
CA_OU=Certificate Authority
CA_CN=Zero Trust VPN CA

# === BACKUP CONFIGURATION ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key

# === FAIL2BAN CONFIGURATION ===
F2B_LOG_LEVEL=INFO
F2B_DB_PURGE_AGE=30d
F2B_BANTIME=3600
F2B_FINDTIME=600
F2B_MAXRETRY=5

# === ADVANCED SETTINGS ===
# Network settings
DOCKER_NETWORK_SUBNET=172.30.0.0/24

# Performance settings
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30
KEEPALIVE_INTERVAL=25

# Logging settings
LOG_LEVEL=INFO
LOG_RETENTION_DAYS=90

# === OPTIONAL INTEGRATIONS ===
# Webhook for notifications
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# External monitoring
HEALTHCHECK_URL=https://hc-ping.com/your-uuid-here

# LDAP integration (if using external directory)
LDAP_URL=ldap://ldap.example.com:389
LDAP_BASE_DN=dc=example,dc=com
LDAP_USER=cn=admin,dc=example,dc=com
LDAP_PASSWORD=ldap_password

# === DEVELOPMENT SETTINGS ===
# Set to true for development/testing
DEBUG_MODE=false
SKIP_SSL_VERIFY=false
ENABLE_PROFILING=false